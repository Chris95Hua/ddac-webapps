#URL Cleaning
RewriteEngine On

RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{THE_REQUEST} \s(.+?)/+[?\s]
RewriteRule ^([^/]+)/?$ $1 [R=302,L]

#Rewrite request (page only)
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^([^/]+)/?$ index.php?page=$1 [L]

#Rewrite request (page and view)
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^([^/]+)/([^/]+)/(.*)/?$ index.php?page=$1&$2=$3  [L]


#Disallow viewing of htaccess files
<Files .htaccess>
order allow,deny
deny from all
</Files>